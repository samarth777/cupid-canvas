import { useLocation } from "react-router-dom";

export default function Result() {
  const location = useLocation();
  const queryParams = new URLSearchParams(location.search);
  const src = queryParams.get("src");

  const download = () => {
    const a = document.createElement("a");
    a.href = src;
    a.download = "image.png"; // or any name you want
    a.click();
  };

  console.log(src);
  if (src) {
    return (
      <div className="flex flex-col items-center justify-center min-h-screen bg-pink-100 text-center py-4 px-4">
        <h1 className="text-center text-5xl font-fancyFont font-bold my-6">
          Cupid Canvas
        </h1>
        <h3 className="text-center mb-8 font-semibold text-2xl">
        Crafting AI-Powered Love Stories, One Card at a Time.
        </h3>
        <div className="max-w-full h-auto bg-white rounded-lg shadow-md overflow-hidden">
          <img
            className="rounded-lg"
            src={src}
            alt="Generated"
            height="666.66"
            width="471.33"
          />
        </div>
        <button className="btn btn-primary mt-6" onClick={download}>
          Download Picture
        </button>Samarth and Vyoman
        <footer className="mt-auto pt-6">Generated by CupidCanvas</footer>
      </div>
    );
  }
  return <p>Image was not generated, please try again!</p>;
}
